<div class="dashboard-container">
  <div class="sidebar">
    <div class="avatar">
      <img src="assets/avatar-placeholder.png" alt="Avatar" />
    </div>
    <ul class="menu">
      <li class="active">游븴 Mi perfil</li>
      <li>游늯 Mis reportes</li>
      <li>游눫 Mis comentarios</li>
      <li>游댒 Notificaciones</li>
      <li>游늵 Estad칤sticas</li>
    </ul>
  </div>

  <div class="profile-content">
    <h3>游녻 Mi Perfil</h3>

    <div *ngIf="cargando">Cargando perfil...</div>
    <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

    <div *ngIf="!cargando && !error" class="profile-form">
      <div class="form-row">
        <label>Nombre completo:</label>
        <div *ngIf="!editando">{{ usuario.nombre }}</div>
        <input *ngIf="editando" [(ngModel)]="usuarioEditado.nombre" />
      </div>

      <div class="form-row">
        <label>Tel칠fono:</label>
        <div *ngIf="!editando">{{ usuario.telefono }}</div>
        <input *ngIf="editando" [(ngModel)]="usuarioEditado.telefono" />
      </div>

      <div class="form-row">
        <label>Direcci칩n:</label>
        <div *ngIf="!editando">{{ usuario.direccion }}</div>
        <input *ngIf="editando" [(ngModel)]="usuarioEditado.direccion" />
      </div>

    <div class="form-row">
      <label>Ciudad:</label>

      <!-- Vista solo lectura -->
      <div *ngIf="!editando">{{ usuario.ciudad }}</div>

        <!-- Modo edici칩n -->
        <select *ngIf="editando" [(ngModel)]="usuarioEditado.ciudad">
          <option *ngFor="let ciudad of ciudades" [value]="ciudad[0]">
            {{ ciudad[1] }}
          </option>
        </select>
      </div>

          <div class="form-row">
            <label>Correo electr칩nico:</label>
            <div>{{ usuario.email }}</div> <!-- no editable -->
          </div>

          <div class="form-actions">
            <button *ngIf="!editando" (click)="activarEdicion()" class="btn btn-success">Actualizar perfil</button>

            <div *ngIf="editando" class="edit-buttons">
              <button (click)="actualizarUsuario()" class="btn btn-success">Guardar</button>
              <button (click)="cancelarEdicion()" class="btn btn-secondary">Cancelar</button>
              

        </div>
        <button (click)="irACambiarPassword()" class="btn btn-warning" type="button">
  Cambiar contrase침a
</button>


        <button (click)="eliminarCuenta()" class="btn btn-danger">Eliminar cuenta</button>

      </div>
    </div>
  </div>
</div>
