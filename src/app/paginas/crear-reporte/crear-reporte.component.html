<div class="form-wrapper">
  <h2>Crear reporte</h2>

  <form [formGroup]="crearReporteForm" (ngSubmit)="crearReporte()">

    <input formControlName="titulo" type="text" placeholder="Título" />

    <textarea formControlName="descripcion" placeholder="Descripción del problema"></textarea>


        <label for="categoria">Categoría:</label>
    <select formControlName="categoria">
      <option value="">Seleccione una categoría</option>
      <option *ngFor="let c of categorias" [value]="c.id">
        {{ c.nombre }}
      </option>
    </select>

    <!-- Mostrar descripción de categoría -->
    <div *ngIf="categoriaSeleccionadaDescripcion" style="margin-top: 5px; color: #555; font-style: italic;">
      {{ categoriaSeleccionadaDescripcion }}
    </div>


    <select formControlName="ciudad">
      <option value="">Seleccione una ciudad</option>
      <option value="ARMENIA">Armenia</option>
      <option value="CIRCASIA">Circasia</option>
      <option value="SALENTO">Salento</option>
    </select>

    <div class="col-12">
    <label class="form-label">Ubicación:</label>
    <div id="mapa"></div>
    </div>


    <input type="file" multiple (change)="onArchivoSeleccionado($event)" />
<div *ngIf="cargandoImagen">⏳ Subiendo imagen...</div>

<div *ngIf="imagenesUrl.length > 0">
  <p>✅ Imágenes subidas:</p>
  <img *ngFor="let url of imagenesUrl" [src]="url" width="100" style="margin: 5px;">
</div>
    
    <button type="submit">Crear reporte</button>
  </form>
</div>
